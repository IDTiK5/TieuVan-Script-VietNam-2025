return function(MainPage, SilentAimAPI)
	-- Install hooks
	SilentAimAPI:Install()
	
	-- Create main section
	local SilentAimSection = MainPage:Section({
		Name = "Silent Aim",
		Description = "Advanced Silent Aim System",
		Icon = "10709818534",
		Side = 2
	})
	
	-- Enable Toggle
	SilentAimSection:Toggle({
		Name = "Enable",
		Flag = "SilentAimEnable",
		Default = false,
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({SilentAim = Value})
			SilentAimAPI:Toggle(Value)
		end
	})
	
	-- FOV Size Slider
	SilentAimSection:Slider({
		Name = "FOV Size",
		Flag = "SilentAimFOV",
		Min = 10,
		Max = 500,
		Default = 150,
		Decimals = 1,
		Suffix = "px",
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({FOV = Value})
		end
	})
	
	-- Update Rate Slider
	SilentAimSection:Slider({
		Name = "Update Rate",
		Flag = "SilentAimUpdateRate",
		Min = 0.01,
		Max = 0.5,
		Default = 0.1,
		Decimals = 0.01,
		Suffix = "s",
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({UpdateRate = Value})
		end
	})
	
	-- Hit Chance Slider
	SilentAimSection:Slider({
		Name = "Hit Chance",
		Flag = "SilentAimHitChance",
		Min = 0,
		Max = 100,
		Default = 100,
		Decimals = 1,
		Suffix = "%",
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({HitChance = Value})
		end
	})
	
	-- Prediction Slider
	SilentAimSection:Slider({
		Name = "Prediction",
		Flag = "SilentAimPrediction",
		Min = 0,
		Max = 1,
		Default = 0.165,
		Decimals = 0.001,
		Suffix = "x",
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({Prediction = Value})
		end
	})
	
	-- Visible Check Toggle
	SilentAimSection:Toggle({
		Name = "Visible Check",
		Flag = "SilentAimVisibleCheck",
		Default = true,
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({VisibleCheck = Value})
		end
	})
	
	-- Team Check Toggle
	SilentAimSection:Toggle({
		Name = "Team Check",
		Flag = "SilentAimTeamCheck",
		Default = true,
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({TeamCheck = Value})
		end
	})
	
	-- Team Check for NPCs Toggle
	SilentAimSection:Toggle({
		Name = "Team Check (NPCs)",
		Flag = "SilentAimTeamCheckNPC",
		Default = false,
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({TeamCheckForNPCs = Value})
		end
	})
	
	-- Sticky Aim Toggle
	SilentAimSection:Toggle({
		Name = "Sticky Aim",
		Flag = "SilentAimStickyAim",
		Default = true,
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({StickyAim = Value})
		end
	})
	
	-- Target Mode Dropdown
	SilentAimSection:Dropdown({
		Name = "Target Mode",
		Flag = "SilentAimTargetMode",
		Default = "NPCs",
		Items = {"NPCs", "Players", "Both"},
		Multi = false,
		Callback = function(Value)
			local mode = type(Value) == "table" and Value[1] or Value
			SilentAimAPI:UpdateConfig({TargetMode = mode})
		end
	})
	
	-- Aim Part Dropdown
	SilentAimSection:Dropdown({
		Name = "Aim Part",
		Flag = "SilentAimPart",
		Default = "Head",
		Items = {"Head", "Torso", "Random", "Both"},
		Multi = false,
		Callback = function(Value)
			local part = type(Value) == "table" and Value[1] or Value
			SilentAimAPI:UpdateConfig({AimPart = part})
		end
	})
	
	-- Target Priority Dropdown
	SilentAimSection:Dropdown({
		Name = "Target Priority",
		Flag = "SilentAimPriority",
		Default = "Distance",
		Items = {"Crosshair", "Distance", "LowestHP"},
		Multi = false,
		Callback = function(Value)
			local priority = type(Value) == "table" and Value[1] or Value
			SilentAimAPI:UpdateConfig({TargetPriority = priority})
		end
	})
	
	-- Aggressive NPC Detection Toggle
	SilentAimSection:Toggle({
		Name = "Aggressive NPC Detection",
		Flag = "SilentAimAggressiveNPC",
		Default = false,
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({AggressiveNPCDetection = Value})
		end
	})
	
	-- Debug NPCs Toggle
	SilentAimSection:Toggle({
		Name = "Debug NPCs",
		Flag = "SilentAimDebugNPCs",
		Default = false,
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({DebugNPCs = Value})
		end
	})
	
	-- Bullet Teleport Toggle
	SilentAimSection:Toggle({
		Name = "Bullet Teleport",
		Flag = "SilentAimBulletTeleport",
		Default = false,
		Callback = function(Value)
			SilentAimAPI:UpdateConfig({BulletTeleport = Value})
		end
	})
end
